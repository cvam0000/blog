<!DOCTYPE html>
<html lang="en">
<head>
  <title>ohmyarch</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="HTML5 website template">
  <meta name="keywords" content="global, template, html, sass, jquery">
  <meta name="author" content="Bucky Maler">
  <link rel="stylesheet" href="assets/css/main.css">
  <style>

.illo{
  margin-top: -50%;
  
  
  cursor: move;
}


  </style>
</head>
<body>

<!-- notification for small viewports and landscape oriented smartphones -->
<div class="device-notification">
  <a class="device-notification--logo" href="#0">
    <img src="assets/img/logo.png" alt="Global">
    <p>ohmyarch</p>
  </a>
  <p class="device-notification--message"></p>
</div>

<div class="perspective effect-rotate-left">
  <div class="container"><div class="outer-nav--return"></div>
    <div id="viewport" class="l-viewport">
      <div class="l-wrapper">
        <header class="header">
          <a class="header--logo" href="#0">
            <img src="assets/img/logo.png" alt="logo">
            <p>Ohmyarch</p>
          </a>
          <button class="header--cta cta">Hire Us</button>
          <div class="header--nav-toggle">
            <span></span>
          </div>
        </header>
        <nav class="l-side-nav">
          <ul class="side-nav">
            <li class="is-active"><span>Home</span></li>
            <li><span>Projects</span></li>
            <li><span>About</span></li>
            <li><span>Contact</span></li>
            <li><span>Blog</span></li>
          </ul>
        </nav>
        <ul class="l-main-content main-content">
          <li class="l-section section section--is-active">
            <div class="intro">
              <div class="intro--banner">
                <h2> IF THERE IS <br>NO LOGIC <br>CREATE YOUR OWN </h2>
                <button class="cta">About
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                  </g>
                  </svg>
                  <span class="btn-background"></span>
                </button>
               <!-- <img src="assets/img/introduction-visual.png" alt="Welcome"> -->

              
                <canvas class="illo"></canvas>
              

              </div>
              <div class="intro--options">
                <a href="#0">
                  <h3>Metiew &amp; Smith</h3>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                </a>
                <a href="#0">
                  <h3>Fantasy interactive</h3>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                </a>
                <a href="#0">
                  <h3>Paul &amp; shark</h3>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                </a>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="work">
              <h2>Selected work</h2>
              <div class="work--lockup">
                <ul class="slider">
                  <li class="slider--item slider--item-left">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-victory.jpg" alt="Victory">
                      </div>
                      <p class="slider--item-title">Victory</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                  <li class="slider--item slider--item-center">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-metiew-smith.jpg" alt="Metiew and Smith">
                      </div>
                      <p class="slider--item-title">Metiew &amp; Smith</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                  <li class="slider--item slider--item-right">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-alex-nowak.jpg" alt="Alex Nowak">
                      </div>
                      <p class="slider--item-title">Alex Nowak</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                </ul>
                <div class="slider--prev">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M561,1169C525,1155,10,640,3,612c-3-13,1-36,8-52c8-15,134-145,281-289C527,41,562,10,590,10c22,0,41,9,61,29
                    c55,55,49,64-163,278L296,510h575c564,0,576,0,597,20c46,43,37,109-18,137c-19,10-159,13-590,13l-565,1l182,180
                    c101,99,187,188,193,199c16,30,12,57-12,84C631,1174,595,1183,561,1169z"/>
                  </g>
                  </svg>
                </div>
                <div class="slider--next">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                  </g>
                  </svg>
                </div>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="about">
              <div class="about--banner">
                <h2>We<br>believe in<br>passionate<br>people</h2>
                <a href="#0">Career
                  <span>
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                    <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                      <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                    </g>
                    </svg>
                  </span>
                </a>
                <img src="assets/img/about-visual.png" alt="About Us">
              </div>
              <div class="about--options">
                <a href="#0">
                  <h3>Winners</h3>
                </a>
                <a href="#0">
                  <h3>Philosophy</h3>
                </a>
                <a href="#0">
                  <h3>History</h3>
                </a>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="contact">
              <div class="contact--lockup">
                <div class="modal">
                  <div class="modal--information">
                    <p>Pawia 5, 31-154 Kraków, Poland</p>
                    <a href="mailto:ouremail@gmail.com">ouremail@gmail.com</a>
                    <a href="tel:+148126287560">+48 12 628 75 60</a>
                  </div>
                  <ul class="modal--options">
                    <li><a href="#0">Bēhance</a></li>
                    <li><a href="#0">dribbble</a></li>
                    <li><a href="mailto:ouremail@gmail.com">Contact Us</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="hire">
              <h2>You want us to do</h2>
              <!-- checkout formspree.io for easy form setup -->
              <form class="work-request">
                <div class="work-request--options">
                  <span class="options-a">
                    <input id="opt-1" type="checkbox" value="app design">
                    <label for="opt-1">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      App Design
                    </label>
                    <input id="opt-2" type="checkbox" value="graphic design">
                    <label for="opt-2">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      Graphic Design
                    </label>
                    <input id="opt-3" type="checkbox" value="motion design">
                    <label for="opt-3">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      Motion Design
                    </label>
                  </span>
                  <span class="options-b">
                    <input id="opt-4" type="checkbox" value="ux design">
                    <label for="opt-4">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      UX Design
                    </label>
                    <input id="opt-5" type="checkbox" value="webdesign">
                    <label for="opt-5">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      Webdesign
                    </label>
                    <input id="opt-6" type="checkbox" value="marketing">
                    <label for="opt-6">
                      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="0 0 150 111" style="enable-background:new 0 0 150 111;" xml:space="preserve">
                      <g transform="translate(0.000000,111.000000) scale(0.100000,-0.100000)">
                        <path d="M950,705L555,310L360,505C253,612,160,700,155,700c-6,0-44-34-85-75l-75-75l278-278L550-5l475,475c261,261,475,480,475,485c0,13-132,145-145,145C1349,1100,1167,922,950,705z"/>
                      </g>
                      </svg>
                      Marketing
                    </label>
                  </span>
                </div>
                <div class="work-request--information">
                  <div class="information-name">
                    <input id="name" type="text" spellcheck="false">
                    <label for="name">Name</label>
                  </div>
                  <div class="information-email">
                    <input id="email" type="email" spellcheck="false">
                    <label for="email">Email</label>
                  </div>
                </div>
                <input type="submit" value="Send Request">
              </form>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <ul class="outer-nav">
    <li class="is-active">Home</li>
    <li>Works</li>
    <li>About</li>
    <li>Contact</li>
    <li>Hire us</li>
  </ul>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-2.2.4.min.js"><\/script>')</script>
<script src="assets/js/functions-min.js"></script>
</body>
</html>


<script>
    /**
    * Boilerplate & utils
    */
   
   ( function( root, factory ) {
     // universal module definition
     /* globals define, module */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory();
     } else {
       // browser global
       root.Zdog = factory();
     }
   
   }( this, function factory() {
   
   var Zdog = {};
   
   Zdog.TAU = Math.PI * 2;
   
   Zdog.extend = function( a, b ) {
     for ( var prop in b ) {
       a[ prop ] = b[ prop ];
     }
     return a;
   };
   
   Zdog.lerp = function( a, b, t ) {
     return ( b - a ) * t + a;
   };
   
   Zdog.modulo = function( num, div ) {
     return ( ( num % div ) + div ) % div;
   };
   
   var powerMultipliers = {
     2: function( a ) {
       return a * a;
     },
     3: function( a ) {
       return a * a * a;
     },
     4: function( a ) {
       return a * a * a * a;
     },
     5: function( a ) {
       return a * a * a * a * a;
     }
   };
   
   Zdog.easeInOut = function( alpha, power ) {
     if ( power == 1 ) {
       return alpha;
     }
     alpha = Math.max( 0, Math.min( 1, alpha ) );
     var isFirstHalf = alpha < 0.5;
     var slope = isFirstHalf ? alpha : 1 - alpha;
     slope = slope / 0.5;
     // make easing steeper with more multiples
     var powerMultiplier = powerMultipliers[ power ] || powerMultipliers[2];
     var curve = powerMultiplier( slope );
     curve = curve / 2;
     return isFirstHalf ? curve : 1 - curve;
   };
   
   return Zdog;
   
   }));
   
   /**
    * CanvasRenderer
    */
   
   ( function( root, factory ) {
     // universal module definition
     /* globals define, module */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory();
     } else {
       // browser global
       root.Zdog.CanvasRenderer = factory();
     }
   }( this, function factory() {
   
   var CanvasRenderer = { isCanvas: true };
   
   CanvasRenderer.begin = function( ctx ) {
     ctx.beginPath();
   };
   
   CanvasRenderer.move = function( ctx, elem, point ) {
     ctx.moveTo( point.x, point.y );
   };
   
   CanvasRenderer.line = function( ctx, elem, point ) {
     ctx.lineTo( point.x, point.y );
   };
   
   CanvasRenderer.bezier = function( ctx, elem, cp0, cp1, end ) {
     ctx.bezierCurveTo( cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y );
   };
   
   CanvasRenderer.closePath = function( ctx ) {
     ctx.closePath();
   };
   
   CanvasRenderer.setPath = function() {};
   
   CanvasRenderer.renderPath = function( ctx, elem, pathCommands, isClosed ) {
     this.begin( ctx, elem );
     pathCommands.forEach( function( command ) {
       command.render( ctx, elem, CanvasRenderer );
     });
     if ( isClosed ) {
       this.closePath( ctx, elem );
     }
   };
   
   CanvasRenderer.stroke = function( ctx, elem, isStroke, color, lineWidth ) {
     if ( !isStroke ) {
       return;
     }
     ctx.strokeStyle = color;
     ctx.lineWidth = lineWidth;
     ctx.stroke();
   };
   
   CanvasRenderer.fill = function( ctx, elem, isFill, color ) {
     if ( !isFill ) {
       return;
     }
     ctx.fillStyle = color;
     ctx.fill();
   };
   
   CanvasRenderer.end = function() {};
   
   return CanvasRenderer;
   
   }));
   
   /**
    * Vector
    */
   
   ( function( root, factory ) {
     // universal module definition
     /* globals define, module, require */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( [ './utils' ], factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory( require('./utils') );
     } else {
       // browser global
       var Zdog = root.Zdog;
       Zdog.Vector = factory( Zdog );
     }
   
   }( this, function factory( utils ) {
   
   function Vector( position ) {
     this.set( position );
   }
   
   var TAU = utils.TAU;
   
   // 'pos' = 'position'
   Vector.prototype.set = function( pos ) {
     this.x = pos && pos.x || 0;
     this.y = pos && pos.y || 0;
     this.z = pos && pos.z || 0;
     return this;
   };
   
   // set coordinates without sanitizing
   // vec.write({ y: 2 }) only sets y coord
   Vector.prototype.write = function( pos ) {
     if ( !pos ) {
       return this;
     }
     this.x = pos.x != undefined ? pos.x : this.x;
     this.y = pos.y != undefined ? pos.y : this.y;
     this.z = pos.z != undefined ? pos.z : this.z;
     return this;
   };
   
   Vector.prototype.rotate = function( rotation ) {
     if ( !rotation ) {
       return;
     }
     this.rotateZ( rotation.z );
     this.rotateY( rotation.y );
     this.rotateX( rotation.x );
     return this;
   };
   
   Vector.prototype.rotateZ = function( angle ) {
     rotateProperty( this, angle, 'x', 'y' );
   };
   
   Vector.prototype.rotateX = function( angle ) {
     rotateProperty( this, angle, 'y', 'z' );
   };
   
   Vector.prototype.rotateY = function( angle ) {
     rotateProperty( this, angle, 'x', 'z' );
   };
   
   function rotateProperty( vec, angle, propA, propB ) {
     if ( !angle || angle % TAU === 0 ) {
       return;
     }
     var cos = Math.cos( angle );
     var sin = Math.sin( angle );
     var a = vec[ propA ];
     var b = vec[ propB ];
     vec[ propA ] = a*cos - b*sin;
     vec[ propB ] = b*cos + a*sin;
   }
   
   Vector.prototype.add = function( pos ) {
     if ( !pos ) {
       return this;
     }
     this.x += pos.x || 0;
     this.y += pos.y || 0;
     this.z += pos.z || 0;
     return this;
   };
   
   Vector.prototype.subtract = function( pos ) {
     if ( !pos ) {
       return this;
     }
     this.x -= pos.x || 0;
     this.y -= pos.y || 0;
     this.z -= pos.z || 0;
     return this;
   };
   
   Vector.prototype.multiply = function( pos ) {
     if ( pos == undefined ) {
       return this;
     }
     // multiple all values by same number
     if ( typeof pos == 'number' ) {
       this.x *= pos;
       this.y *= pos;
       this.z *= pos;
     } else {
       // multiply object
       this.x *= pos.x != undefined ? pos.x : 1;
       this.y *= pos.y != undefined ? pos.y : 1;
       this.z *= pos.z != undefined ? pos.z : 1;
     }
     return this;
   };
   
   Vector.prototype.transform = function( translation, rotation, scale ) {
     this.multiply( scale );
     this.rotate( rotation );
     this.add( translation );
     return this;
   };
   
   Vector.prototype.lerp = function( pos, t ) {
     this.x = utils.lerp( this.x, pos.x || 0, t );
     this.y = utils.lerp( this.y, pos.y || 0, t );
     this.z = utils.lerp( this.z, pos.z || 0, t );
     return this;
   };
   
   Vector.prototype.magnitude = function() {
     var sum = this.x*this.x + this.y*this.y + this.z*this.z;
     return getMagnitudeSqrt( sum );
   };
   
   function getMagnitudeSqrt( sum ) {
     // PERF: check if sum ~= 1 and skip sqrt
     if ( Math.abs( sum - 1 ) < 0.00000001 ) {
       return 1;
     }
     return Math.sqrt( sum );
   }
   
   Vector.prototype.magnitude2d = function() {
     var sum = this.x*this.x + this.y*this.y;
     return getMagnitudeSqrt( sum );
   };
   
   Vector.prototype.copy = function() {
     return new Vector( this );
   };
   
   return Vector;
   
   }));
   
   /**
    * Anchor
    */
   
   ( function( root, factory ) {
     // universal module definition
     var depends = [ './utils', './vector' ];
     /* globals define, module, require */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( depends, factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory.apply( root, depends.map( require ) );
     } else {
       // browser global
       var Zdog = root.Zdog;
       Zdog.Anchor = factory( Zdog, Zdog.Vector );
     }
   }( this, function factory( utils, Vector ) {
   
   var TAU = utils.TAU;
   var onePoint = { x: 1, y: 1, z: 1 };
   
   function Anchor( options ) {
     this.create( options || {} );
   }
   
   Anchor.prototype.create = function( options ) {
     // set defaults & options
     utils.extend( this, this.constructor.defaults );
     this.setOptions( options );
   
     // transform
     this.translate = new Vector( options.translate );
     this.rotate = new Vector( options.rotate );
     this.scale = new Vector( onePoint ).multiply( this.scale );
     // origin
     this.origin = new Vector();
     this.renderOrigin = new Vector();
     // children
     this.children = [];
     if ( this.addTo ) {
       this.addTo.addChild( this );
     }
   };
   
   Anchor.defaults = {};
   
   Anchor.optionKeys = Object.keys( Anchor.defaults ).concat([
     'rotate',
     'translate',
     'scale',
     'addTo',
   ]);
   
   Anchor.prototype.setOptions = function( options ) {
     var optionKeys = this.constructor.optionKeys;
   
     for ( var key in options ) {
       if ( optionKeys.includes( key ) ) {
         this[ key ] = options[ key ];
       }
     }
   };
   
   Anchor.prototype.addChild = function( shape ) {
     var index = this.children.indexOf( shape );
     if ( index != -1 ) {
       return;
     }
     shape.remove(); // remove previous parent
     shape.addTo = this; // keep parent reference
     this.children.push( shape );
   };
   
   Anchor.prototype.removeChild = function( shape ) {
     var index = this.children.indexOf( shape );
     if ( index != -1 ) {
       this.children.splice( index, 1 );
     }
   };
   
   Anchor.prototype.remove = function() {
     if ( this.addTo ) {
       this.addTo.removeChild( this );
     }
   };
   
   // ----- update ----- //
   
   Anchor.prototype.update = function() {
     // update self
     this.reset();
     // update children
     this.children.forEach( function( child ) {
       child.update();
     });
     this.transform( this.translate, this.rotate, this.scale );
   };
   
   Anchor.prototype.reset = function() {
     this.renderOrigin.set( this.origin );
   };
   
   Anchor.prototype.transform = function( translation, rotation, scale ) {
     this.renderOrigin.transform( translation, rotation, scale );
     // transform children
     this.children.forEach( function( child ) {
       child.transform( translation, rotation, scale );
     });
   };
   
   Anchor.prototype.updateGraph = function() {
     this.update();
     this.checkFlatGraph();
     this.flatGraph.forEach( function( item ) {
       item.updateSortValue();
     });
     // z-sort
     this.flatGraph.sort( Anchor.shapeSorter );
   };
   
   Anchor.shapeSorter = function( a, b ) {
     return a.sortValue - b.sortValue;
   };
   
   Anchor.prototype.checkFlatGraph = function() {
     if ( !this.flatGraph ) {
       this.updateFlatGraph();
     }
   };
   
   Anchor.prototype.updateFlatGraph = function() {
     this.flatGraph = this.getFlatGraph();
   };
   
   // return Array of self & all child graph items
   Anchor.prototype.getFlatGraph = function() {
     var flatGraph = [ this ];
     this.children.forEach( function( child ) {
       var childFlatGraph = child.getFlatGraph();
       flatGraph = flatGraph.concat( childFlatGraph );
     });
     return flatGraph;
   };
   
   Anchor.prototype.updateSortValue = function() {
     this.sortValue = this.renderOrigin.z;
   };
   
   // ----- render ----- //
   
   Anchor.prototype.render = function() {};
   
   Anchor.prototype.renderGraphCanvas = function( ctx ) {
     if ( !ctx ) {
       throw new Error( 'ctx is ' + ctx + '. ' +
         'Canvas context required for render. Check .renderGraphCanvas( ctx ).' );
     }
     this.checkFlatGraph();
     this.flatGraph.forEach( function( item ) {
       item.render( ctx, Zdog.CanvasRenderer );
     });
   };
   
   Anchor.prototype.renderGraphSvg = function( svg ) {
     if ( !svg ) {
       throw new Error( 'svg is ' + svg + '. ' +
         'SVG required for render. Check .renderGraphSvg( svg ).' );
     }
     this.checkFlatGraph();
     this.flatGraph.forEach( function( item ) {
       item.render( svg, Zdog.SvgRenderer );
     });
   };
   
   // ----- misc ----- //
   
   Anchor.prototype.copy = function( options ) {
     // copy options
     var itemOptions = {};
     var optionKeys = this.constructor.optionKeys;
     optionKeys.forEach( function( key ) {
       itemOptions[ key ] = this[ key ];
     }, this );
     // add set options
     utils.extend( itemOptions, options );
     var ItemClass = this.constructor;
     return new ItemClass( itemOptions );
   };
   
   Anchor.prototype.copyGraph = function( options ) {
     var clone = this.copy( options );
     this.children.forEach( function( child ) {
       child.copyGraph({
         addTo: clone,
       });
     });
     return clone;
   };
   
   Anchor.prototype.normalizeRotate = function() {
     this.rotate.x = utils.modulo( this.rotate.x, TAU );
     this.rotate.y = utils.modulo( this.rotate.y, TAU );
     this.rotate.z = utils.modulo( this.rotate.z, TAU );
   };
   
   // ----- subclass ----- //
   
   function getSubclass( Super ) {
     return function( defaults ) {
       // create constructor
       function Item( options ) {
         this.create( options || {} );
       }
   
       Item.prototype = Object.create( Super.prototype );
       Item.prototype.constructor = Item;
   
       Item.defaults = utils.extend( {}, Super.defaults );
       utils.extend( Item.defaults, defaults );
       // create optionKeys
       Item.optionKeys = Super.optionKeys.slice(0);
       // add defaults keys to optionKeys, dedupe
       Object.keys( Item.defaults ).forEach( function( key ) {
         if ( !Item.optionKeys.includes( key ) ) {
           Item.optionKeys.push( key );
         }
       });
   
       Item.subclass = getSubclass( Item );
   
       return Item;
     };
   }
   
   Anchor.subclass = getSubclass( Anchor );
   
   return Anchor;
   
   }));
   
   /**
    * PathCommand
    */
   
   ( function( root, factory ) {
     // universal module definition
     /* globals define, module, require */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( [ './vector' ], factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory( require('./vector') );
     } else {
       // browser global
       var Zdog = root.Zdog;
       Zdog.PathCommand = factory( Zdog.Vector );
     }
   }( this, function factory( Vector ) {
   
   function PathCommand( method, points, previousPoint ) {
     this.method = method;
     this.points = points.map( mapVectorPoint );
     this.renderPoints = points.map( mapNewVector );
     this.previousPoint = previousPoint;
     this.endRenderPoint = this.renderPoints[ this.renderPoints.length - 1 ];
     // arc actions come with previous point & corner point
     // but require bezier control points
     if ( method == 'arc' ) {
       this.controlPoints = [ new Vector(), new Vector() ];
     }
   }
   
   function mapVectorPoint( point ) {
     if ( point instanceof Vector ) {
       return point;
     } else {
       return new Vector( point );
     }
   }
   
   function mapNewVector( point ) {
     return new Vector( point );
   }
   
   PathCommand.prototype.reset = function() {
     // reset renderPoints back to orignal points position
     var points = this.points;
     this.renderPoints.forEach( function( renderPoint, i ) {
       var point = points[i];
       renderPoint.set( point );
     });
   };
   
   PathCommand.prototype.transform = function( translation, rotation, scale ) {
     this.renderPoints.forEach( function( renderPoint ) {
       renderPoint.transform( translation, rotation, scale );
     });
   };
   
   PathCommand.prototype.render = function( ctx, elem, renderer ) {
     return this[ this.method ]( ctx, elem, renderer );
   };
   
   PathCommand.prototype.move = function( ctx, elem, renderer ) {
     return renderer.move( ctx, elem, this.renderPoints[0] );
   };
   
   PathCommand.prototype.line = function( ctx, elem, renderer ) {
     return renderer.line( ctx, elem, this.renderPoints[0] );
   };
   
   PathCommand.prototype.bezier = function( ctx, elem, renderer ) {
     var cp0 = this.renderPoints[0];
     var cp1 = this.renderPoints[1];
     var end = this.renderPoints[2];
     return renderer.bezier( ctx, elem, cp0, cp1, end );
   };
   
   PathCommand.prototype.arc = function( ctx, elem, renderer ) {
     var prev = this.previousPoint;
     var corner = this.renderPoints[0];
     var end = this.renderPoints[1];
     var cp0 = this.controlPoints[0];
     var cp1 = this.controlPoints[1];
     cp0.set( prev ).lerp( corner, 9/16 );
     cp1.set( end ).lerp( corner, 9/16 );
     return renderer.bezier( ctx, elem, cp0, cp1, end );
   };
   
   return PathCommand;
   
   }));
   
   /**
    * Shape
    */
   
   ( function( root, factory ) {
     // universal module definition
     var depends = [ './utils',  './vector', './path-command', './anchor' ];
     /* globals define, module, require */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( depends, factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory.apply( root, depends.map( require ) );
     } else {
       // browser global
       var Zdog = root.Zdog;
       Zdog.Shape = factory( Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor );
     }
   }( this, function factory( utils, Vector, PathCommand, Anchor ) {
   
   var Shape = Anchor.subclass({
     stroke: 1,
     fill: false,
     color: '#333',
     closed: true,
     visible: true,
     path: [ {} ],
     front: { z: 1 },
     backface: true,
   });
   
   Shape.prototype.create = function( options ) {
     Anchor.prototype.create.call( this, options );
     this.updatePath();
     // front
     this.front = new Vector( options.front || this.front );
     this.renderFront = new Vector( this.front );
     this.renderNormal = new Vector();
   };
   
   var actionNames = [
     'move',
     'line',
     'bezier',
     'arc',
   ];
   
   Shape.prototype.updatePath = function() {
     this.setPath();
     this.updatePathCommands();
   };
   
   // place holder for Ellipse, Rect, etc.
   Shape.prototype.setPath = function() {};
   
   // parse path into PathCommands
   Shape.prototype.updatePathCommands = function() {
     var previousPoint;
     this.pathCommands = this.path.map( function( pathPart, i ) {
       // pathPart can be just vector coordinates -> { x, y, z }
       // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }
       var keys = Object.keys( pathPart );
       var method = keys[0];
       var points = pathPart[ method ];
       // default to line if no instruction
       var isInstruction = keys.length == 1 && actionNames.includes( method );
       if ( !isInstruction ) {
         method = 'line';
         points = pathPart;
       }
       // munge single-point methods like line & move without arrays
       var isLineOrMove = method == 'line' || method == 'move';
       var isPointsArray = Array.isArray( points );
       if ( isLineOrMove && !isPointsArray ) {
         points = [ points ];
       }
   
       // first action is always move
       method = i === 0 ? 'move' : method;
       // arcs require previous last point
       var command = new PathCommand( method, points, previousPoint );
       // update previousLastPoint
       previousPoint = command.endRenderPoint;
       return command;
     });
   };
   
   // ----- update ----- //
   
   Shape.prototype.reset = function() {
     this.renderOrigin.set( this.origin );
     this.renderFront.set( this.front );
     // reset command render points
     this.pathCommands.forEach( function( command ) {
       command.reset();
     });
   };
   
   Shape.prototype.transform = function( translation, rotation, scale ) {
     // calculate render points backface visibility & cone/hemisphere shapes
     this.renderOrigin.transform( translation, rotation, scale );
     this.renderFront.transform( translation, rotation, scale );
     this.renderNormal.set( this.renderOrigin ).subtract( this.renderFront );
     // transform points
     this.pathCommands.forEach( function( command ) {
       command.transform( translation, rotation, scale );
     });
     // transform children
     this.children.forEach( function( child ) {
       child.transform( translation, rotation, scale );
     });
   };
   
   
   Shape.prototype.updateSortValue = function() {
     var sortValueTotal = 0;
     this.pathCommands.forEach( function( command ) {
       sortValueTotal += command.endRenderPoint.z;
     });
     // average sort value of all points
     // def not geometrically correct, but works for me
     this.sortValue = sortValueTotal / this.pathCommands.length;
   };
   
   // ----- render ----- //
   
   Shape.prototype.render = function( ctx, renderer ) {
     var length = this.pathCommands.length;
     if ( !this.visible || !length ) {
       return;
     }
     // do not render if hiding backface
     this.isFacingBack = this.renderNormal.z > 0;
     if ( !this.backface && this.isFacingBack ) {
       return;
     }
     if ( !renderer ) {
       throw new Error( 'Zdog renderer required. Set to ' + renderer );
     }
     // render dot or path
     var isDot = length == 1;
     if ( renderer.isCanvas && isDot ) {
       this.renderCanvasDot( ctx, renderer );
     } else {
       this.renderPath( ctx, renderer );
     }
   };
   
   var TAU = utils.TAU;
   // Safari does not render lines with no size, have to render circle instead
   Shape.prototype.renderCanvasDot = function( ctx ) {
     var lineWidth = this.getLineWidth();
     if ( !lineWidth ) {
       return;
     }
     ctx.fillStyle = this.getRenderColor();
     var point = this.pathCommands[0].endRenderPoint;
     ctx.beginPath();
     var radius = lineWidth/2;
     ctx.arc( point.x, point.y, radius, 0, TAU );
     ctx.fill();
   };
   
   Shape.prototype.getLineWidth = function() {
     if ( !this.stroke ) {
       return 0;
     }
     if ( this.stroke == true ) {
       return 1;
     }
     return this.stroke;
   };
   
   Shape.prototype.getRenderColor = function() {
     // use backface color if applicable
     var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;
     var color = isBackfaceColor ? this.backface : this.color;
     return color;
   };
   
   Shape.prototype.renderPath = function( ctx, renderer ) {
     var elem = this.getRenderElement( ctx, renderer );
     var isTwoPoints = this.pathCommands.length == 2 &&
       this.pathCommands[1].method == 'line';
     var isClosed = !isTwoPoints && this.closed;
     var color = this.getRenderColor();
   
     renderer.renderPath( ctx, elem, this.pathCommands, isClosed );
     renderer.stroke( ctx, elem, this.stroke, color, this.getLineWidth() );
     renderer.fill( ctx, elem, this.fill, color );
     renderer.end( ctx, elem );
   };
   
   var svgURI = 'http://www.w3.org/2000/svg';
   
   Shape.prototype.getRenderElement = function( ctx, renderer ) {
     if ( !renderer.isSvg ) {
       return;
     }
     if ( !this.svgElement ) {
       // create svgElement
       this.svgElement = document.createElementNS( svgURI, 'path');
       this.svgElement.setAttribute( 'stroke-linecap', 'round' );
       this.svgElement.setAttribute( 'stroke-linejoin', 'round' );
     }
     return this.svgElement;
   };
   
   return Shape;
   
   }));
   
   /**
    * Dragger
    */
   
   ( function( root, factory ) {
     // universal module definition
     /* globals define, module */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory();
     } else {
       // browser global
       root.Zdog.Dragger = factory();
     }
   }( this, function factory() {
   
   // quick & dirty drag event stuff
   // messes up if multiple pointers/touches
   
   // event support, default to mouse events
   var downEvent = 'mousedown';
   var moveEvent = 'mousemove';
   var upEvent = 'mouseup';
   if ( window.PointerEvent ) {
     // PointerEvent, Chrome
     downEvent = 'pointerdown';
     moveEvent = 'pointermove';
     upEvent = 'pointerup';
   } else if ( 'ontouchstart' in window ) {
     // Touch Events, iOS Safari
     downEvent = 'touchstart';
     moveEvent = 'touchmove';
     upEvent = 'touchend';
   }
   
   function noop() {}
   
   function Dragger( options ) {
     this.create( options || {} );
   }
   
   Dragger.prototype.create = function( options ) {
     this.onDragStart = options.onDragStart || noop;
     this.onDragMove = options.onDragMove || noop;
     this.onDragEnd = options.onDragEnd || noop;
   
     this.bindDrag( options.startElement );
   };
   
   Dragger.prototype.bindDrag = function( element ) {
     element = this.getQueryElement( element );
     if ( element ) {
       element.addEventListener( downEvent , this );
     }
   };
   
   Dragger.prototype.getQueryElement = function( element ) {
     if ( typeof element == 'string' ) {
       // with string, query selector
       element = document.querySelector( element );
     }
     return element;
   };
   
   Dragger.prototype.handleEvent = function( event ) {
     var method = this[ 'on' + event.type ];
     if ( method ) {
       method.call( this, event );
     }
   };
   
   Dragger.prototype.onmousedown =
   Dragger.prototype.onpointerdown = function( event ) {
     this.dragStart( event, event );
   };
   
   Dragger.prototype.ontouchstart = function( event ) {
     this.dragStart( event, event.changedTouches[0] );
   };
   
   Dragger.prototype.dragStart = function( event, pointer ) {
     event.preventDefault();
     this.dragStartX = pointer.pageX;
     this.dragStartY = pointer.pageY;
     window.addEventListener( moveEvent, this );
     window.addEventListener( upEvent, this );
     this.onDragStart( pointer );
   };
   
   Dragger.prototype.ontouchmove = function( event ) {
     // HACK, moved touch may not be first
     this.dragMove( event, event.changedTouches[0] );
   };
   
   Dragger.prototype.onmousemove =
   Dragger.prototype.onpointermove = function( event ) {
     this.dragMove( event, event );
   };
   
   Dragger.prototype.dragMove = function( event, pointer ) {
     event.preventDefault();
     var moveX = pointer.pageX - this.dragStartX;
     var moveY = pointer.pageY - this.dragStartY;
     this.onDragMove( pointer, moveX, moveY );
   };
   
   Dragger.prototype.onmouseup =
   Dragger.prototype.onpointerup =
   Dragger.prototype.ontouchend =
   Dragger.prototype.dragEnd = function(/* event */) {
     window.removeEventListener( moveEvent, this );
     window.removeEventListener( upEvent, this );
     this.onDragEnd();
   };
   
   return Dragger;
   
   }));
   
   /**
    * Illustration
    */
   
   ( function( root, factory ) {
     // universal module definition
     var depends = [ './utils', './anchor', './dragger' ];
     /* globals define, module, require */
     if ( typeof define == 'function' && define.amd ) {
       // AMD
       define( depends, factory );
     } else if ( typeof module == 'object' && module.exports ) {
       // CommonJS
       module.exports = factory.apply( root, depends.map( require ) );
     } else {
       // browser global
       var Zdog = root.Zdog;
       Zdog.Illustration = factory( Zdog, Zdog.Anchor, Zdog.Dragger );
     }
   }( this, function factory( utils, Anchor, Dragger ) {
   
   function noop() {}
   var TAU = utils.TAU;
   
   var Illustration = Anchor.subclass({
     element: undefined,
     centered: true,
     zoom: 1,
     dragRotate: false,
     resize: false,
     onPrerender: noop,
     onDragStart: noop,
     onDragMove: noop,
     onDragEnd: noop,
     onResize: noop,
   });
   
   utils.extend( Illustration.prototype, Dragger.prototype );
   
   Illustration.prototype.create = function( options ) {
     Anchor.prototype.create.call( this, options );
     Dragger.prototype.create.call( this, options );
     this.setElement( this.element );
     this.setDragRotate( this.dragRotate );
     this.setResize( this.resize );
   };
   
   Illustration.prototype.setElement = function( element ) {
     element = this.getQueryElement( element );
     if ( !element ) {
       throw new Error( 'Zdog.Illustration element required. Set to ' + element );
     }
   
     var nodeName = element.nodeName.toLowerCase();
     if ( nodeName == 'canvas'  ) {
       this.setCanvas( element );
     } else if ( nodeName == 'svg' ) {
       this.setSvg( element );
     }
   };
   
   Illustration.prototype.setSize = function( width, height ) {
     width = Math.round( width );
     height = Math.round( height );
     if ( this.isCanvas ) {
       this.setSizeCanvas( width, height );
     } else if ( this.isSvg ) {
       this.setSizeSvg( width, height );
     }
   };
   
   Illustration.prototype.setResize = function( resize ) {
     this.resize = resize;
     // create resize event listener
     if ( !this.resizeListener ) {
       this.resizeListener = this.onWindowResize.bind( this );
     }
     // add/remove event listener
     if ( resize ) {
       window.addEventListener( 'resize', this.resizeListener );
       this.onWindowResize();
     } else {
       window.removeEventListener( 'resize', this.resizeListener );
     }
   };
   
   // TODO debounce this?
   Illustration.prototype.onWindowResize = function() {
     this.setMeasuredSize();
     this.onResize( this.width, this.height );
   };
   
   Illustration.prototype.setMeasuredSize = function() {
     var width, height;
     var isFullscreen = this.resize == 'fullscreen';
     if ( isFullscreen ) {
       width = window.innerWidth;
       height = window.innerHeight;
     } else {
       var rect = this.element.getBoundingClientRect();
       width = rect.width;
       height = rect.height;
     }
     this.setSize( width, height );
   };
   
   // ----- render ----- //
   
   Illustration.prototype.renderGraph = function( item ) {
     if ( this.isCanvas ) {
       this.renderGraphCanvas( item );
     } else if ( this.isSvg ) {
       this.renderGraphSvg( item );
     }
   };
   
   // combo method
   Illustration.prototype.updateRenderGraph = function( item ) {
     this.updateGraph();
     this.renderGraph( item );
   };
   
   // ----- canvas ----- //
   
   Illustration.prototype.setCanvas = function( element ) {
     this.element = element;
     this.isCanvas = true;
     // update related properties
     this.ctx = this.element.getContext('2d');
     // set initial size
     this.setSizeCanvas( element.width, element.height );
   };
   
   Illustration.prototype.setSizeCanvas = function( width, height ) {
     this.width = width;
     this.height = height;
     // up-rez for hi-DPI devices
     var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;
     this.element.width = this.canvasWidth = width * pixelRatio;
     this.element.height = this.canvasHeight = height * pixelRatio;
     if ( pixelRatio > 1 ) {
       this.element.style.width = width + 'px';
       this.element.style.height = height + 'px';
     }
   };
   
   Illustration.prototype.renderGraphCanvas = function( item ) {
     item = item || this;
     this.prerenderCanvas();
     Anchor.prototype.renderGraphCanvas.call( item, this.ctx );
     this.postrenderCanvas();
   };
   
   Illustration.prototype.prerenderCanvas = function() {
     var ctx = this.ctx;
     ctx.lineCap = 'round';
     ctx.lineJoin = 'round';
     ctx.clearRect( 0, 0, this.canvasWidth, this.canvasHeight );
     ctx.save();
     if ( this.centered ) {
       ctx.translate( this.width/2, this.height/2 );
     }
     var scale = this.pixelRatio * this.zoom;
     ctx.scale( scale, scale );
     this.onPrerender( ctx );
   };
   
   Illustration.prototype.postrenderCanvas = function () {
     this.ctx.restore();
   };
   
   // ----- svg ----- //
   
   Illustration.prototype.setSvg = function( element ) {
     this.element = element;
     this.isSvg = true;
     this.pixelRatio = 1;
     // set initial size from width & height attributes
     var width = element.getAttribute('width');
     var height = element.getAttribute('height');
     this.setSizeSvg( width, height );
   };
   
   Illustration.prototype.setSizeSvg = function( width, height ) {
     this.width = width;
     this.height = height;
     var viewWidth = width / this.zoom;
     var viewHeight = height / this.zoom;
     var viewX = this.centered ? -viewWidth/2 : 0;
     var viewY = this.centered ? -viewHeight/2 : 0;
     this.element.setAttribute( 'viewBox', viewX + ' ' + viewY + ' ' +
       viewWidth + ' ' + viewHeight );
     if ( this.resize ) {
       // remove size attributes, let size be determined by viewbox
       this.element.removeAttribute('width');
       this.element.removeAttribute('height');
     } else {
       this.element.setAttribute( 'width', width );
       this.element.setAttribute( 'height', height );
     }
   };
   
   Illustration.prototype.renderGraphSvg = function( item ) {
     item = item || this;
     empty( this.element );
     this.onPrerender( this.element );
     Anchor.prototype.renderGraphSvg.call( item, this.element );
   };
   
   function empty( element ) {
     while ( element.firstChild ) {
       element.removeChild( element.firstChild );
     }
   }
   
   // ----- drag ----- //
   
   Illustration.prototype.setDragRotate = function( item ) {
     if ( !item ) {
       return;
     } else if ( item === true ) {
       item = this;
     }
     this.dragRotate = item;
   
     this.bindDrag( this.element );
   };
   
   Illustration.prototype.dragStart = function(/* event, pointer */) {
     this.dragStartRX = this.dragRotate.rotate.x;
     this.dragStartRY = this.dragRotate.rotate.y;
     Dragger.prototype.dragStart.apply( this, arguments );
   };
   
   Illustration.prototype.dragMove = function( event, pointer ) {
     var moveX = pointer.pageX - this.dragStartX;
     var moveY = pointer.pageY - this.dragStartY;
     var displaySize = Math.min( this.width, this.height );
     var moveRY = moveX / displaySize * TAU;
     var moveRX = moveY / displaySize * TAU;
     this.dragRotate.rotate.x = this.dragStartRX - moveRX;
     this.dragRotate.rotate.y = this.dragStartRY - moveRY;
     Dragger.prototype.dragMove.apply( this, arguments );
   };
   
   return Illustration;
   
   }));
   
   // ------------------------- demo ------------------------- //
   
   var illoElem = document.querySelector('.illo');
   var sceneSize = 24;
   var minWindowSize = Math.min( window.innerWidth - 20 , window.innerHeight - 20 );
   var zoom = Math.floor( minWindowSize / sceneSize );
   var illoSize = sceneSize * zoom;
   illoElem.setAttribute( 'width', illoSize );
   illoElem.setAttribute( 'height', illoSize );
   var TAU = Zdog.TAU;
   
   var illo = new Zdog.Illustration({
     element: illoElem,
     zoom: zoom,
     rotate: { x: TAU * -35/360, y: TAU * 1/8 },
     dragRotate: true,
   });
   
   // ----- model ----- //
   
   var cube = new Zdog.Anchor({
     addTo: illo,
     scale: 4,
   });
   
   var oneUnit = new Zdog.Vector({ x: 1, y: 1 });
   
   var side = new Zdog.Anchor({
     addTo: cube,
     translate: { z: 1 },
   });
   
   var dot = new Zdog.Shape({
     addTo: side,
     translate: oneUnit.copy(),
     stroke: 1,
     color: 'white',
     // visible: false,
   });
   
   dot.copy({ translate: { x: -1, y:  1 } });
   dot.copy({ translate: { x:  1, y: -1 } });
   dot.copy({ translate: { x: -1, y: -1 } });
   
   // more dots
   dot.copy({ translate: { x:  1 } });
   dot.copy({ translate: { x: -1 } });
   dot.copy({ translate: { y: -1 } });
   dot.copy({ translate: { y:  1 } });
   
   side.copyGraph({
     translate: { z: -1 },
   });
   
   var midDot = dot.copy({
     addTo: cube,
   });
   
   midDot.copy({ translate: { x: -1, y:  1 }} );
   midDot.copy({ translate: { x:  1, y: -1 }} );
   midDot.copy({ translate: { x: -1, y: -1 }} );
   
   
   // ----- animate ----- //
   
   var keyframes = [
     { x: 0, y: 0, z: 0 },
     { x: 0, y: 0, z: TAU/4 },
     { x: -TAU/4, y: 0, z: TAU/4 },
     { x: -TAU/4, y: 0, z: TAU/2 },
   ];
   
   var t = 0;
   
   
   function animate() {
     var easeT = Zdog.easeInOut( t % 1, 4 );
     var turnLimit = keyframes.length - 1;
     var turn = Math.floor( t % turnLimit );
     var keyA = keyframes[ turn ];
     var keyB = keyframes[ turn + 1 ];
     cube.rotate.x = Zdog.lerp( keyA.x, keyB.x, easeT );
     cube.rotate.y = Zdog.lerp( keyA.y, keyB.y, easeT );
     cube.rotate.z = Zdog.lerp( keyA.z, keyB.z, easeT );
     t += 1/75;
   
     illo.updateRenderGraph();
     requestAnimationFrame( animate );
   }
   
   animate();
   
   
</script>